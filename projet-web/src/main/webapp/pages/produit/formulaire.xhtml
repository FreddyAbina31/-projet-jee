<?xml version='1.0' encoding='UTF-8' ?>
<ui:composition template="/template/page-standard.xhtml"
     xmlns="http://www.w3.org/1999/xhtml"
     xmlns:h="http://java.sun.com/jsf/html"
     xmlns:f="http://java.sun.com/jsf/core"
     xmlns:ui="http://java.sun.com/jsf/facelets"
     xmlns:bs="http://xmlns.jcp.org/jsf/passthrough">

	<f:metadata>
		<f:viewParam name="id" value="#{modelCompte.courant.id}" />
		<f:viewAction action="#{modelCompte.actualiserCourant()}" />
	</f:metadata>

	<ui:define name="titre">Utilisateur</ui:define>

	<ui:define name="contenu">
		<h:form>

			<div class="container mt-3">
				<div class="row">
					<div class="col-md-6 offset-md-3">
						<table class="table">
							<tr>
								<td>
									<h:outputLabel for="id">Id :</h:outputLabel>
								</td>
								<td>
									<h:inputText id="id" size="5" readonly="true"
										value="#{modelCompte.courant.id}" class="form-control" />
									<h:message for="id" errorClass="error" />
								</td>
							</tr>
							<tr>
								<td>
									<h:outputLabel for="pseudo">Pseudo :</h:outputLabel>
								</td>
								<td>
									<h:inputText id="pseudo" size="25"
										value="#{modelCompte.courant.pseudo}" class="form-control" />
									<h:message for="pseudo" errorClass="error" />
								</td>
							</tr>
							<tr>
								<td>
									<h:outputLabel for="motDePasse">Mot de passe :</h:outputLabel>
								</td>
								<td>
									<h:inputText id="motDePasse" size="25"
										value="#{modelCompte.courant.motDePasse}" class="form-control" />
									<h:message for="motDePasse" errorClass="error" />
								</td>
							</tr>
							<tr>
								<td>
									<h:outputLabel for="email">Email :</h:outputLabel>
								</td>
								<td>
									<h:inputText id="email" size="50"
										value="#{modelCompte.courant.email}" class="form-control" />
									<h:message for="email" errorClass="error" />
								</td>
							</tr>
							<tr>
								<td>
									<h:outputLabel for="roles">Roles :</h:outputLabel>
								</td>
								<td>
									<h:selectManyCheckbox id="roles" layout="pageDirection"
										value="#{modelCompte.courant.roles}" class="form-check">
										<f:selectItems value="#{utilAppli.roles}" var="role"
											itemLabel="#{utilAppli.getLibellÃ©DeRole(role)}" />
									</h:selectManyCheckbox>
									<h:message for="roles" errorClass="error" />
								</td>
							</tr>
						</table>

						<br />
						<h:commandButton value="Valider"
							action="#{modelCompte.validerMiseAJour()}" class="btn btn-primary" />
						<h:button value="Retour" outcome="comptes" class="btn btn-secondary" />
					</div>
				</div>
			</div>

		</h:form>
	</ui:define>
</ui:composition>